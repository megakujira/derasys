<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>でらしふ</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>〇月シフト出勤希望提出</h1>
        <h2>氏名：〇〇〇〇</h2>

        <form>
            <fieldset>
                <legend>時間帯1</legend>

                <div>
                <label><input type="radio" name="timezone" value="segmenting" checked>区分け</label>
                <label><input type="radio" name="timezone" value="custom">カスタム</label>
                </div>

                <div id="type-select">
                    <p>時間区分けタイプ</p>
                    <select>
                        <option value="" selected>タイプを選択してください。</option>
                        <option value="A">A：07:00~16:00</option>
                        <option value="B">B：08:00~17:00</option>
                        <option value="C">C：09:00~18:00</option>
                        <option value="D">D：10:30~19:30</option>
                    </select>
                </div>
            </fieldset>

            <button type="button" class="add-btn">+</button>

            <fieldset>
                <div class="calendar">
                    <h2 id="month-title"></h2>
                    <table id="calendar-body"></table>
                </div>
            </fieldset>
            
            <fieldset>
                <legend>備考欄</legend>
                <textarea placeholder="内容を入力してください"></textarea>
                
            </fieldset>

            <input type="submit" class="submit-btn"value="送信する">
        </form>
    </div>



  <script>
    const calendarBody = document.getElementById("calendar-body");
    const monthTitle = document.getElementById("month-title");

    const today = new Date();
    const year = today.getFullYear();
    const month = today.getMonth(); // 0=1月
    const firstDay = new Date(year, month, 1);
    const lastDay = new Date(year, month + 1, 0);

    const daysOfWeek = ["日","月","火","水","木","金","土"];
    monthTitle.textContent = `${month + 1}月`;

    // 曜日ヘッダー
    let headerRow = "<tr>" + daysOfWeek.map(d => `<th>${d}</th>`).join("") + "</tr>";
    let html = headerRow + "<tr>";

    // 空白セル
    for (let i = 0; i < firstDay.getDay(); i++) html += "<td></td>";

    // 日付セル
    for (let day = 1; day <= lastDay.getDate(); day++) {
      const date = new Date(year, month, day);
      const isToday = day === today.getDate();
      html += `<td class="${isToday ? "selected" : ""}">${day}</td>`;
      if (date.getDay() === 6 && day !== lastDay.getDate()) html += "</tr><tr>";
    }

    html += "</tr>";
    calendarBody.innerHTML = html;

    // クリックで選択状態切替
    calendarBody.addEventListener("click", e => {
      if (e.target.tagName === "TD" && e.target.textContent !== "") {
        document.querySelectorAll("td").forEach(td => td.classList.remove("selected"));
        e.target.classList.add("selected");
      }
    });
  </script>
</body>
</html>
